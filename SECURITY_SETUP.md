# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!

**–ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π n8n –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∏—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é!**

–ë–µ–∑ —ç—Ç–æ–≥–æ –ª—é–±–æ–π —Å–º–æ–∂–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤–∞—à–∏ workflow
- –ó–∞–ø—É—Å–∫–∞—Ç—å –∏—Ö
- –í–∏–¥–µ—Ç—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –£–¥–∞–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ

---

## ‚úÖ –®–∞–≥ 1: –í–∫–ª—é—á–∏—Ç–µ –±–∞–∑–æ–≤—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é

### –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `docker-compose.yml`:

–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:

```yaml
environment:
  - N8N_BASIC_AUTH_ACTIVE=false
```

–ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞:

```yaml
environment:
  - N8N_BASIC_AUTH_ACTIVE=true
  - N8N_BASIC_AUTH_USER=admin
  - N8N_BASIC_AUTH_PASSWORD=your_strong_password_here
```

### –°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å:

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–π –ø–∞—Ä–æ–ª—å
openssl rand -base64 20
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- –ú–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤
- –ë—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏ —Ç–∏–ø–∞ "password123"

---

## üîß –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ n8n
make restart

# –ò–ª–∏
docker-compose down
docker-compose up -d
```

---

## üß™ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ n8n
open http://localhost:5678

# –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
# –í–≤–µ–¥–∏—Ç–µ:
#   Username: admin (–∏–ª–∏ —á—Ç–æ –≤—ã —É–∫–∞–∑–∞–ª–∏)
#   Password: –≤–∞—à –ø–∞—Ä–æ–ª—å
```

---

## üìù –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π `docker-compose.yml`:

```yaml
version: '3.8'

services:
  n8n:
    image: n8nio/n8n:latest
    container_name: n8n-prototype
    restart: unless-stopped
    ports:
      - "5678:5678"
    environment:
      # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
      - N8N_HOST=0.0.0.0
      - N8N_PORT=5678
      - N8N_PROTOCOL=http
      
      # üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=Sup3rStr0ng!P@ssw0rd
      
      # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
      - DB_TYPE=sqlite
      
      # –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞
      - GENERIC_TIMEZONE=Europe/Moscow
      - TZ=Europe/Moscow
      
      # Webhook URL (–∏–∑–º–µ–Ω–∏—Ç–µ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç—É–Ω–Ω–µ–ª—å)
      - WEBHOOK_URL=http://localhost:5678/
      
    volumes:
      - ./n8n-data:/home/node/.n8n
      - ./custom-nodes:/home/node/.n8n/custom
      - ./backups:/backups
    networks:
      - n8n-network

networks:
  n8n-network:
    driver: bridge
```

---

## üåç –î–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ ngrok/cloudflare:

–û–±–Ω–æ–≤–∏—Ç–µ `WEBHOOK_URL`:

```yaml
# –î–ª—è ngrok (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ URL)
- WEBHOOK_URL=https://abc123.ngrok.io/

# –î–ª—è Cloudflare Tunnel
- WEBHOOK_URL=https://n8n.your-domain.com/
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** `make restart`

---

## üîí –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
# .env
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your_secure_password
WEBHOOK_URL=http://localhost:5678/
```

–û–±–Ω–æ–≤–∏—Ç–µ `docker-compose.yml`:

```yaml
environment:
  - N8N_BASIC_AUTH_ACTIVE=${N8N_BASIC_AUTH_ACTIVE}
  - N8N_BASIC_AUTH_USER=${N8N_BASIC_AUTH_USER}
  - N8N_BASIC_AUTH_PASSWORD=${N8N_BASIC_AUTH_PASSWORD}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–∞—Ä–æ–ª–∏ –Ω–µ –≤ git
- –õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å
- –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ

### 2. –î–æ–±–∞–≤—å—Ç–µ .env –≤ .gitignore

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env –≤ .gitignore
echo ".env" >> .gitignore
```

### 3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø (–≤ —Ç—É–Ω–Ω–µ–ª—è—Ö)

#### ngrok:
```bash
# –î–æ–±–∞–≤—å—Ç–µ IP whitelist –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
# ~/.ngrok2/ngrok.yml
authtoken: YOUR_TOKEN
tunnels:
  n8n:
    addr: 5678
    proto: http
    ip_restriction:
      allow_cidrs:
        - 203.0.113.0/24  # –í–∞—à–∏ IP
```

#### Cloudflare:
–í –ø–∞–Ω–µ–ª–∏ Cloudflare:
- Access ‚Üí Create Rule
- –î–æ–±–∞–≤—å—Ç–µ IP whitelist
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ geo-blocking

---

## üìä –£—Ä–æ–≤–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

| –£—Ä–æ–≤–µ–Ω—å | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|---------|-----------|--------------|
| üî¥ **–û–ø–∞—Å–Ω–æ** | –ë–µ–∑ auth, –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø | ‚ùå –ù–∏–∫–æ–≥–¥–∞ |
| üü° **–ú–∏–Ω–∏–º—É–º** | Basic Auth | ‚úÖ –î–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ |
| üü¢ **–•–æ—Ä–æ—à–æ** | Basic Auth + HTTPS + IP whitelist | ‚úÖ –î–ª—è –∫–æ–º–∞–Ω–¥—ã |
| üîµ **–û—Ç–ª–∏—á–Ω–æ** | OAuth + 2FA + Firewall | ‚úÖ –î–ª—è production |

---

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–∫–æ–ø–∏—Ä—É–π-–≤—Å—Ç–∞–≤—å)

```bash
# 1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å
PASSWORD=$(openssl rand -base64 20)
echo "–í–∞—à –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å: $PASSWORD"

# 2. –û–±–Ω–æ–≤–∏—Ç–µ docker-compose.yml –≤—Ä—É—á–Ω—É—é
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ sed (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!):
sed -i '' 's/N8N_BASIC_AUTH_ACTIVE=false/N8N_BASIC_AUTH_ACTIVE=true/' docker-compose.yml

# 3. –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ docker-compose.yml
# (–≤—Ä—É—á–Ω—É—é, –∑–∞–º–µ–Ω–∏–≤ YOUR_PASSWORD –Ω–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
make restart

# 5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤ –Ω–∞–¥–µ–∂–Ω–æ–º –º–µ—Å—Ç–µ!
echo "$PASSWORD" > ~/n8n_password.txt
chmod 600 ~/n8n_password.txt
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ auth –≤–∫–ª—é—á–µ–Ω
grep "N8N_BASIC_AUTH_ACTIVE=true" docker-compose.yml

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π
grep "N8N_BASIC_AUTH_PASSWORD" docker-compose.yml

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ n8n —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
curl http://localhost:5678 -v
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 401 Unauthorized

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
curl -u admin:your_password http://localhost:5678 -v
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
```

---

## üÜò –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –∑–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü–∞—Ä–æ–ª—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ docker-compose.yml
grep "N8N_BASIC_AUTH_PASSWORD" docker-compose.yml
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–∫–ª—é—á–∏—Ç—å auth –≤—Ä–µ–º–µ–Ω–Ω–æ

```bash
# 1. –ò–∑–º–µ–Ω–∏—Ç–µ –≤ docker-compose.yml
# N8N_BASIC_AUTH_ACTIVE=false

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
make restart

# 3. –ó–∞–π–¥–∏—Ç–µ –≤ n8n
# 4. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å
# 5. –°–Ω–æ–≤–∞ –≤–∫–ª—é—á–∏—Ç–µ auth
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

```bash
docker exec n8n-prototype env | grep N8N_BASIC_AUTH
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ Basic Auth –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- ‚úÖ –ù–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
- ‚úÖ HTTPS —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å (ngrok/cloudflare)

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- ‚úÖ –í—Å–µ –≤—ã—à–µ +
- ‚úÖ IP whitelist
- ‚úÖ Rate limiting
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

n8n —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç (–≤ –±—É–¥—É—â–µ–º):
- OAuth 2.0
- LDAP
- SAML

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–º. –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
https://docs.n8n.io/hosting/configuration/

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] `N8N_BASIC_AUTH_ACTIVE=true` –≤ docker-compose.yml
- [ ] –ù–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] n8n –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
- [ ] –ü–∞—Ä–æ–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –Ω–∞–¥–µ–∂–Ω–æ–º –º–µ—Å—Ç–µ
- [ ] `.env` —Ñ–∞–π–ª –≤ `.gitignore` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
- [ ] HTTPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å)
- [ ] Webhook URL –æ–±–Ω–æ–≤–ª–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å! üöÄ**

---

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ß–∏—Ç–∞–π—Ç–µ `PUBLIC_ACCESS_GUIDE.md`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `make logs`
3. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –≤ [n8n community](https://community.n8n.io/)

